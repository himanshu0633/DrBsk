{"ast":null,"code":"// store.js\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport storage from 'redux-persist/lib/storage';\nimport { persistReducer, persistStore } from 'redux-persist';\nimport { combineReducers } from 'redux';\nconst initialState = {\n  data: []\n};\nconst saveState = data => {\n  localStorage.setItem(\"reduxState\", JSON.stringify(data.data));\n};\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_DATA\":\n      const newState = {\n        ...state,\n        data: [...state.data, action.payload]\n      };\n      saveState(newState);\n      return newState;\n    case \"DELETE_PRODUCT\":\n      const newState1 = {\n        ...state,\n        data: state.data.filter(product => product._id !== action.payload)\n      };\n      saveState(newState1);\n      return newState1;\n    case \"CLEAR_PRODUCT\":\n      const newState2 = {\n        ...state,\n        data: action.payload\n      };\n      saveState(newState2);\n      return newState2;\n    case \"CLEAR_ALLPRODUCT\":\n      const updatedState = {\n        ...state,\n        data: []\n      };\n      saveState(updatedState);\n      return updatedState;\n    case \"UPDATE_DATA\":\n      const updatedData = state.data.map(product => product._id === action.payload._id ? action.payload : product);\n      const newState3 = {\n        ...state,\n        data: updatedData\n      };\n      saveState(newState3);\n      return newState3;\n    default:\n      return state;\n  }\n};\n\n// Combine reducers (only one here, but necessary for persistReducer)\nconst root = combineReducers({\n  app: rootReducer\n});\nconst persistConfig = {\n  key: 'root',\n  storage\n};\nconst persistedReducer = persistReducer(persistConfig, root);\nconst store = configureStore({\n  reducer: persistedReducer\n});\nconst persistor = persistStore(store);\nexport { store, persistor };","map":{"version":3,"names":["configureStore","storage","persistReducer","persistStore","combineReducers","initialState","data","saveState","localStorage","setItem","JSON","stringify","rootReducer","state","action","type","newState","payload","newState1","filter","product","_id","newState2","updatedState","updatedData","map","newState3","root","app","persistConfig","key","persistedReducer","store","reducer","persistor"],"sources":["/Users/himanshu/Desktop/Dr BSK/Dr bsk/src/store/Store.js"],"sourcesContent":["// store.js\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { persistReducer, persistStore } from 'redux-persist';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst initialState = {\r\n  data: [],\r\n};\r\n\r\nconst saveState = (data) => {\r\n  localStorage.setItem(\"reduxState\", JSON.stringify(data.data));\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_DATA\":\r\n      const newState = {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n      saveState(newState);\r\n      return newState;\r\n    case \"DELETE_PRODUCT\":\r\n      const newState1 = {\r\n        ...state,\r\n        data: state.data.filter((product) => product._id !== action.payload),\r\n      };\r\n      saveState(newState1);\r\n      return newState1;\r\n    case \"CLEAR_PRODUCT\":\r\n      const newState2 = {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n      saveState(newState2);\r\n      return newState2;\r\n    case \"CLEAR_ALLPRODUCT\":\r\n      const updatedState = {\r\n        ...state,\r\n        data: [],\r\n      };\r\n      saveState(updatedState);\r\n      return updatedState;\r\n    case \"UPDATE_DATA\":\r\n      const updatedData = state.data.map((product) =>\r\n        product._id === action.payload._id ? action.payload : product\r\n      );\r\n      const newState3 = {\r\n        ...state,\r\n        data: updatedData,\r\n      };\r\n      saveState(newState3);\r\n      return newState3;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Combine reducers (only one here, but necessary for persistReducer)\r\nconst root = combineReducers({\r\n  app: rootReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, root);\r\n\r\nconst store = configureStore({\r\n  reducer: persistedReducer,\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n"],"mappings":"AAAA;AACA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,OAAOC,OAAO,MAAM,2BAA2B;AAC/C,SAASC,cAAc,EAAEC,YAAY,QAAQ,eAAe;AAC5D,SAASC,eAAe,QAAQ,OAAO;AAEvC,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAID,IAAI,IAAK;EAC1BE,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAACA,IAAI,CAAC,CAAC;AAC/D,CAAC;AAED,MAAMM,WAAW,GAAGA,CAACC,KAAK,GAAGR,YAAY,EAAES,MAAM,KAAK;EACpD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,UAAU;MACb,MAAMC,QAAQ,GAAG;QACf,GAAGH,KAAK;QACRP,IAAI,EAAE,CAAC,GAAGO,KAAK,CAACP,IAAI,EAAEQ,MAAM,CAACG,OAAO;MACtC,CAAC;MACDV,SAAS,CAACS,QAAQ,CAAC;MACnB,OAAOA,QAAQ;IACjB,KAAK,gBAAgB;MACnB,MAAME,SAAS,GAAG;QAChB,GAAGL,KAAK;QACRP,IAAI,EAAEO,KAAK,CAACP,IAAI,CAACa,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,GAAG,KAAKP,MAAM,CAACG,OAAO;MACrE,CAAC;MACDV,SAAS,CAACW,SAAS,CAAC;MACpB,OAAOA,SAAS;IAClB,KAAK,eAAe;MAClB,MAAMI,SAAS,GAAG;QAChB,GAAGT,KAAK;QACRP,IAAI,EAAEQ,MAAM,CAACG;MACf,CAAC;MACDV,SAAS,CAACe,SAAS,CAAC;MACpB,OAAOA,SAAS;IAClB,KAAK,kBAAkB;MACrB,MAAMC,YAAY,GAAG;QACnB,GAAGV,KAAK;QACRP,IAAI,EAAE;MACR,CAAC;MACDC,SAAS,CAACgB,YAAY,CAAC;MACvB,OAAOA,YAAY;IACrB,KAAK,aAAa;MAChB,MAAMC,WAAW,GAAGX,KAAK,CAACP,IAAI,CAACmB,GAAG,CAAEL,OAAO,IACzCA,OAAO,CAACC,GAAG,KAAKP,MAAM,CAACG,OAAO,CAACI,GAAG,GAAGP,MAAM,CAACG,OAAO,GAAGG,OACxD,CAAC;MACD,MAAMM,SAAS,GAAG;QAChB,GAAGb,KAAK;QACRP,IAAI,EAAEkB;MACR,CAAC;MACDjB,SAAS,CAACmB,SAAS,CAAC;MACpB,OAAOA,SAAS;IAClB;MACE,OAAOb,KAAK;EAChB;AACF,CAAC;;AAED;AACA,MAAMc,IAAI,GAAGvB,eAAe,CAAC;EAC3BwB,GAAG,EAAEhB;AACP,CAAC,CAAC;AAEF,MAAMiB,aAAa,GAAG;EACpBC,GAAG,EAAE,MAAM;EACX7B;AACF,CAAC;AAED,MAAM8B,gBAAgB,GAAG7B,cAAc,CAAC2B,aAAa,EAAEF,IAAI,CAAC;AAE5D,MAAMK,KAAK,GAAGhC,cAAc,CAAC;EAC3BiC,OAAO,EAAEF;AACX,CAAC,CAAC;AAEF,MAAMG,SAAS,GAAG/B,YAAY,CAAC6B,KAAK,CAAC;AAErC,SAASA,KAAK,EAAEE,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}